@model List<KutuphaneCoresuz.Models.ModelforDB.KitapYazarAddModel>


@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewBag.Title = "anasayfa";

}

@Html.Partial("~/Views/Shared/_Header.cshtml")
@if (Context.Session["KullaniciAdi"].ToString() != "")
{
    @Html.Partial("~/Views/Shared/Profil.cshtml");
}



<span class="border-dark border-bottom">
    <h4 style="font-family:fantasy; color:	#01579B; padding-left:20px">Projeye Hoşgeldiniz @Context.Session["KullaniciAdi"].ToString() </h4>
</span>
<h3 align="center">Var Olan Kitaplarınız</h3>

<table class="table" align="center" style="width:45%; height:200px" cellspacing="0" cellpadding="0">
    <thead>
        <tr>
            <th> @Html.Label("Kitap Adi:")</th>
            <th>
                @Html.Label("Yazar Adi:")

            </th>
            <th>
                @Html.Label("Yazar Soyadi:")

            </th>
            <th>
                @Html.Label("Yayinci:")
            </th>
            <th>
                @Html.Label("Yorum:")
            </th>
            <th>
                İşlemler
            </th>

        </tr>
    </thead>
    <tbody>

        @if (Model != null)
        {

            foreach (var item in Model)
            {

                <tr>
                    <td>
                        @item.KitapAdi
                    </td>
                    <td>
                        @item.YazarAdi
                    </td>
                    <td>
                        @item.YazarSoyadi
                    </td>
                    <td>
                        @item.yayinci
                    </td>
                    <td>
                        @item.Aciklama
                    </td>
                    <td>
                        <button class="btn-outline-warning" type="submit" name="update" data-id=ID onclick="location.href='@Url.Action("EditKitap","Kitap")'">Düzenle</button>
                        <button class="btn-outline-success" type="button" name="detaylar" onclick="location.href='@Url.Action("DetailsKitap", "Kitap")'">Detaylar</button>
                        <button class="btn-outline-danger" type="submit" name="detaylar" onclick="location.href='@Url.Action("DeleteKitap", "Kitap")'">Sil</button>

                    </td>

                </tr>

            }

        }
    </tbody>
</table>

<br />
<br />
<div align="center" style="left:50%">
    <button class="btn-outline-success" type="button" name="yeniKitap" onclick="location.href='@Url.Action("CreateKitap", "Kitap")'">Yeni Kitap Ekle</button>

    <button class="btn-outline-success" type="button" name="yeniYazar" onclick="location.href='@Url.Action("CreateYazarAction", "Yazar")'">Yeni Yazar Ekle</button>
</div>



@section Scripts
{
    <script type="text/javascript">
        $(document).ready(function () {
            $(".btn-duzenle").click(function () {
                var id = $(this).data("id");
                alert(id);
                var isim = $(this).data("isim");
                alert(isim);
                var soyisim = $(this).data("soisim");

                var yorum = $(this).data("yorum");

                $.ajax({
                   url: `https://localhost:44339/Yazar/EditYazarId?id="${id}&isim=${isim}&soyisim=${soyisim}&yorum=${yorum}"`,
                    @*url:'@Url.Action("EditYazarId","Yazar")',*@
                    method: "post",
                    dataType: "json",
                   // data: {id:yazarID, isim:isim, soyisim:soyisim, yorum:yorum},
                    success: function (data) {

                    }, complete: function () {

                    }
                });
            })

        });

        $(document).ready(function () {
            $(".btn-sil").click(function () {
                var isim = $(this).data("isim");
                var soyisim = $(this).data("soisim");
                var yorum = $(this).data("yorum");
                $.ajax({
                    url: `https://localhost:44339/Yazar/DeleteYazar?isim="${isim}&soyisim=${soyisim}&yorum=${yorum}"`,
                    @*/  url:'@Url.Action("EditYazarId","Yazar")',*@
                    method: "post",
                    dataType: "json",
                   // data: {id:yazarID, isim:isim, soyisim:soyisim, yorum:yorum},
                    success: function (data) {

                    }, complete: function () {

                    }
                });
            })

        });

    </script>


}
